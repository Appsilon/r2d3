'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = htmlStringFromTemplateString;
function htmlStringFromTemplateString(templateObject) {
  var raw = templateObject.raw;

  var result = undefined;

  for (var _len = arguments.length, substs = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {
    substs[_key - 1] = arguments[_key];
  }

  result = substs.reduce(function (result, subst, i) {
    var lit = raw[i];

    subst = Array.isArray(subst) ? subst.join('') : subst + '';

    if (lit[lit.length - 1] === '$') {
      subst = htmlEscape(subst);
      lit = lit.slice(0, -1);
    }

    result += lit;
    result += subst;

    return result;
  }, '');

  result += raw[raw.length - 1];

  return result;
}

function htmlEscape(str) {
  return str.replace(/&/g, '&amp;').replace(/>/g, '&gt;').replace(/</g, '&lt;').replace(/"/g, '&quote;').replace(/'/g, '&#39;').replace(/`/g, '&#96;');
}